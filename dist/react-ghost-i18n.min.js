"use strict";var I18n=function(){function t(t){return t.mixins?r.call(t.mixins,function(t){return t.noI18n}):void 0}var n=React.createClass({displayName:"I18n",noI18n:!0,prop:function(t){return this.props.i18n&&this.props.i18n[t]||this.props[t]||n[t]},warn:function e(t){t="I18n: "+t;var e=this.prop("warn");e&&e(t)},translateString:function(t){var n=this.prop("locale"),r=(this.prop("prefix")||"")+t,e="function"==typeof n?n(r):n&&n[r];return e?e:(t&&t.match(/[a-z]/i)&&this.warn("missing translation for: "+r),t)},translateProps:function(t,r){var e=this,a={key:r},i=function(n){t.props[n]&&(a[n]=e.translateString(t.props[n]))};"string"==typeof t.type&&(i("title"),i("alt"),i("placeholder"),"input"!=t.type||"button"!=t.props.type&&"submit"!=t.props.type||i("value"));var s=t.type==n?t:a.i18n={},o=function(n){s[n]=t.props[n]||e.prop(n)};return o("warn"),o("locale"),o("prefix"),a},translateChildren:function(t){function r(t){t&&p.push(t)}if(!t.props||!t.props.children)return null;if(t.type==n&&t!=this||void 0!==t.props["i18n-disabled"])return t.props.children;var e=[],a=[];React.Children.forEach(t.props.children,function(t,n){t.props?(e.push("{"+a.length+"}"),a.push(t)):e.push(t)});for(var i,s=e.join(""),o=e.length==a.length?s:this.translateString(s),p=[],l=0,u=new RegExp(/\{(\d+)\}/g),c=0;i=u.exec(o);){++c,r(o.substring(l,i.index));var h=parseInt(i[1]),f=a[h],d=React.cloneElement(f,this.translateProps(f,h),this.translateChildren(f));r(d),l=u.lastIndex}return r(o.substring(l)),c!=a.length&&this.warn("incorrect number of arguments in translation for '"+s+"' -> '"+o+"'"),1==p.length?p[0]:p},render:function(){return React.createElement("span",null,this.translateChildren(this))}});n.warn=function(t){console.warn(t)};var r=Array.prototype.filter||function(t){var n=[];for(var r in this){var e=this[r];t(e)&&n.push(e)}return n};return n.wrap=function(t){return function(r){return React.createElement(n,r,t(r))}},n.optIn=function(){n.originalCreateClass||(n.originalCreateClass=React.createClass,React.createClass=function(r){return r.noI18n||t(r)?n.originalCreateClass(r):(r.renderWithoutI18n=r.render,r.render=function(){return React.createElement(n,this.props,this.renderWithoutI18n())},n.originalCreateClass(r))})},n.optOut=function(){React.createClass=n.originalCreateClass||React.createClass,delete n.originalCreateClass},n.optIn(),n}();